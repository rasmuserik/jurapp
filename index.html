<head>
    <title>JuraApp</title>
    <link rel="author" href="http://rasmuserik.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="cleartype" content="on">
</head>
<body>
    {{>main}}
</body>
<template name="main">
<div class=container>
    {{#if user}}

    <div class="pull-right">
        {{user.name}} <a class="btn btn-default userlogout">Log ud</a>
    </div>

    {{/if}}
    {{#unless user}}
    <br>
    <div class="jumbotron">
        <h1>JurApp</h1> 
        <div>- workflow og checklister for juridisk korrekt sagsbehandling</div>
    </div>

    <div class=row>
        <div class=col-sm-6>
            <h3>Beskrivelse</h2>
            <p>Noget tekst der beskriver produktet. Og noget mere tekst, et cetera. Beskrivelse af formålet med JurApp, og baggrund, og dette er iøvrigt blot fyldtekst der bliver erstattet...</p>

        </div>
        <div class=col-sm-6>
            <h3>Eksempel-login som</h3>
            {{#each users}}
            <div>
                <a class="btn btn-lg btn-block btn-default userlogin">{{name}}</a>
            </div>
            {{/each}}
        </div>
    </div>
</div>
{{/unless}}

<div class=container>
    {{#if user.jura}}
    {{#if questionList}}
    {{>edit}}
    {{else}}
    {{>questionLists}}
    {{/if}}
    {{/if}}
    {{#if user.sagsbehandler}}
    {{#if workflow}}
    {{>workflow}}
    {{else}}
    {{>workflows}}
    {{/if}}
    {{/if}}
    {{#if user.manager}}{{>dashboard}}
    not implemented yet
    {{/if}}
</div>
</template>
<template name="edit">
<div class="container">
    <h1>Rediger spørgsmål</h1>
    {{> questions}}
</div>
</template>
<template name="workflows">
<h1>Workflows</h1>
<div>
    {{#each workflows}}
    <div>
        <a class="btn btn-default btn-block workflow">{{name}}</a>
    </div>
    {{/each}}
</div>
<div class=pull-right>
    <a class="btn btn-default newWorkflow">Nyt workflow</a>
</div>
</template>
<template name="workflow">
<h1>Workflow <span class="editable workflowId" contenteditable>{{workflowName}}</span></h1>

<div class="container">
<a class="btn btn-default{{#if questionList.prev}} prev{{/if}}" {{#unless questionList.prev}}disabled{{/unless}}>Forrige</a>
<a class="btn btn-default showWorkflows">Workflows</a>
<a class="btn btn-default{{#if questionList.next}} next{{/if}}" {{#unless questionList.next}}disabled{{/unless}}>Næste</a>
<hr/>
<div class="panel questions">
    <div class=panel-heading>
        <div class=desc>
            {{{questionList.desc}}}
        </div>
    </div>
    <div class=panel-body>
        {{#each questions}}
        <div class=question>
            <div class=questionText>
                {{{text}}}
            </div>
            <div class=buttons>
                <button type=button class="btn btn-primary">Ja</button>
                <button type=button class="btn btn-primary">Nej</button>
            </div>
        </div>
        {{/each}}
        <hr>
        <div class=info>
            {{{questionList.info}}}
        </div>
    </div>
</div>
</div>
</template>
<template name="dashboard">
</template>
<template name="questionLists">
<h1>
    Rediger spørgsmålsliste
</h1>
<hr/>
<div>
    {{#each questionLists}}
    <div>
    <span class="openQuestionList btn btn-default btn-xs">{{{desc}}}</span>
    (sagsbehandlingstrin “<span class="questionStep editable" contenteditable>{{{step}}}</span>”)
    </div>
    {{#if next}}
    <div class="swap">
        <small><i class="icon-exchange icon-rotate-90"></i></small>
    </div>
    {{/if}}
    {{/each}}
</div>
<hr/>
<div>
    <a class="btn btn-default newQuestionList">Tilføj ny</a>
    <a class="btn btn-default datadump">Data dump</a>
</div>
</template>
<template name="questions">
<a class="btn btn-default{{#if questionList.prev}} prev{{/if}}" {{#unless questionList.prev}}disabled{{/unless}}>Forrige</a>
{{#if editable}}<a class="btn btn-default showQuestionLists">Oversigt</a>{{/if}}
<a class="btn btn-default{{#if questionList.next}} next{{/if}}" {{#unless questionList.next}}disabled{{/unless}}>Næste</a>
<hr/>
<div class="panel questions">
    <div class=panel-heading>
        <div class="desc editable" contenteditable>
            {{{questionList.desc}}}
            {{#unless editable}}
            <span style="float:right"></span>
            {{/unless}}
        </div>
    </div>
    <div class=panel-body>
        {{#each questions}}
        <div class=question>
            <div contenteditable class="questionText editable">
                {{{text}}}
            </div>
            {{#if editable}}
            <div>
                <small><em>Begrundelse hvis nej:</em></small>
                <div contenteditable class="questionNo editable">
                    {{{no}}}
                </div>
                <hr>
            </div>
            {{else}}
            <div class=buttons>
                <button type=button class="btn btn-primary">Ja</button>
                <button type=button class="btn btn-primary">Nej</button>
            </div>
            {{/if}}
        </div>
        {{/each}}
        {{#if editable}}
        <button type=button class="addQuestion btn btn-default">Tilføj Spørgsmål</button>
        {{/if}}
        <hr>
        <div contenteditable class="info editable">
            {{{questionList.info}}}
        </div>
    </div>
</div>
</template>

